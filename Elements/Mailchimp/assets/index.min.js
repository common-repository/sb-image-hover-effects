var SaElMailChimp = function($scope, $) {

    var $mailChimp = $scope.find(".sa-el-mailchimp-wrap").eq(0),
        $mailchimp_id =
        $mailChimp.data("mailchimp-id") !== undefined ?
        $mailChimp.data("mailchimp-id") :
        "",
        $list_id =
        $mailChimp.data("list-id") !== undefined ?
        $mailChimp.data("list-id") :
        "",
        $button_text =
        $mailChimp.data("button-text") !== undefined ?
        $mailChimp.data("button-text") :
        "",
        $success_text =
        $mailChimp.data("success-text") !== undefined ?
        $mailChimp.data("success-text") :
        "",
        $loading_text = $mailChimp.data("loading-text") !== undefined ?
        $mailChimp.data("loading-text") :
        "",
        $class = $mailChimp.data("class") !== undefined ?
        $mailChimp.data("class") :
        "",
        $function = $mailChimp.data("function") !== undefined ?
        $mailChimp.data("function") :
        "";
    sa_el_mailchimp_subscribe(
        "sa-el-mailchimp-form-" + $mailchimp_id + "",
        $list_id,
        $button_text,
        $success_text,
        $loading_text,
        $class,
        $function
    );

};

jQuery(window).on("elementor/frontend/init", function() {
    elementorFrontend.hooks.addAction(
        "frontend/element_ready/sa_el_mailchimp.default",
        SaElMailChimp
    );
});