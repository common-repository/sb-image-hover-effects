var SA_360_Product = function ($scope, $) {
    var $TSPV = $scope.find('.sa-el-threesixty-product-viewer'),
            $settings = $TSPV.data('settings'),
            $container = $TSPV.find('> .sa-el-tspv-container'),
            $fullScreenBtn = $TSPV.find('> .sa-el-tspv-fb');

    if (!$TSPV.length) {
        return;
    }


    if ($settings['source_type'] == 'remote') {
        $settings.source = SpriteSpin.sourceArray($settings['source'], {frame: $settings['frame_limit'], digits: $settings['image_digits']});
    }

    elementorFrontend.waypoint($container, function () {
        var $this = $(this);
        $this.spritespin($settings);

    }, {
        offset: 'bottom-in-view'
    });

    $($fullScreenBtn).click(function (e) {
        e.preventDefault();
        $($container).spritespin('api').requestFullscreen();
    });
};
jQuery(window).on("elementor/frontend/init", function () {
    elementorFrontend.hooks.addAction(
            "frontend/element_ready/sa_el_product_360.default",
            SA_360_Product
            );
});