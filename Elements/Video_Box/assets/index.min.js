var SaElVideoBox = function($scope, $) {
    var videoBoxElement = $scope.find(".sa-el-video-box-container"),
        videoContainer = videoBoxElement.find(".sa-el-video-box-video-container"),
        type = videoBoxElement.data("type"),
        video,
        vidSrc,
        checkRel;
    videoBoxElement.on("click", function() {
        if ("self" === type) {
            video = videoContainer.find("video");
            vidSrc = video.attr("src");
            $(video)
                .get(0)
                .play();
            videoContainer.css({
                opacity: "1",
                visibility: "visible"
            });
        } else {
            vidSrc = videoContainer.data("src");
            vidSrc = vidSrc + "&autoplay=1";
            var iframe = $("<iframe/>");
            checkRel = vidSrc.indexOf("rel=0");
            iframe.attr("src", vidSrc);
            iframe.attr("frameborder", "0");
            iframe.attr("allowfullscreen", "1");
            iframe.attr("allow", "autoplay;encrypted-media;");
            videoContainer.css("background", "#000");
            videoContainer.html(iframe);
        }
        videoBoxElement.find(".sa-el-video-box-image-container").remove();
    });
};

jQuery(window).on("elementor/frontend/init", function() {
    elementorFrontend.hooks.addAction(
        "frontend/element_ready/sa_el_video_box.default",
        SaElVideoBox
    );
});