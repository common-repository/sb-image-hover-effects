var SAELBGSlider = function ($scope, $) {
    var sa_el_slides = [];
    var sa_el_slides_json = [];
    var sa_el_transition;
    var sa_el_animation;
    var sa_el_custom_overlay;
    var sa_el_overlay;
    var sa_el_cover;
    var sa_el_delay;
    var sa_el_timer;
    var slider_images;


    var slider_wrapper = $scope.children('.sa-el-section-bs').children('.sa-el-section-bs-inner');

    if (slider_wrapper && slider_wrapper.data('sa-el-bg-slider')) {
        slider_images = slider_wrapper.data('sa-el-bg-slider');
        sa_el_transition = slider_wrapper.data('sa-el-bg-slider-transition');
        sa_el_animation = slider_wrapper.data('sa-el-bg-slider-animation');
        sa_el_custom_overlay = slider_wrapper.data('sa-el-bg-custom-overlay');
        if (sa_el_custom_overlay == 'yes') {
            sa_el_overlay = slider_wrapper.data('sa_el_plugins_url') + 'assets/vendor/vegas/overlays/' + slider_wrapper.data('sa-el-bg-slider-overlay');
        } else {
            if (slider_wrapper.data('sa-el-bg-slider-overlay')) {
                sa_el_overlay = slider_wrapper.data('sa_el_plugins_url') + 'assets/vendor/vegas/overlays/' + slider_wrapper.data('sa-el-bg-slider-overlay');
            } else {
                sa_el_overlay = slider_wrapper.data('sa_el_plugins_url') + 'assets/vendor/vegas/overlays/' + slider_wrapper.data('sa-el-bg-slider-overlay');
            }
        }

        sa_el_cover = slider_wrapper.data('sa-el-bg-slider-cover');
        sa_el_delay = slider_wrapper.data('sa-el-bs-slider-delay');
        sa_el_timer = slider_wrapper.data('sa-el-bs-slider-timer');

        if (typeof slider_images != 'undefined') {
            sa_el_slides = slider_images.split(",");

            jQuery.each(sa_el_slides, function (key, value) {
                var slide = [];
                slide.src = value;
                sa_el_slides_json.push(slide);
            });

            slider_wrapper.SACUvegas({
                slides: sa_el_slides_json,
                transition: sa_el_transition,
                animation: sa_el_animation,
                overlay: sa_el_overlay,
                cover: sa_el_cover,
                delay: sa_el_delay,
                timer: sa_el_timer,
                init: function () {
                    if (sa_el_custom_overlay == 'yes') {
                        var ob_vegas_overlay = slider_wrapper.children('.vegas-overlay');
                        ob_vegas_overlay.css('background-image', '');
                    }
                }
            });

        }
    }

};

jQuery(window).on('elementor/frontend/init', function () {
    elementorFrontend.hooks.addAction(
            'frontend/element_ready/global', SAELBGSlider
            );
});
